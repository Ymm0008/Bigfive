!function(e){function t(t){for(var a,i,s=t[0],l=t[1],u=t[2],d=0,f=[];d<s.length;d++)i=s[d],n[i]&&f.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={8:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;o.push([500,1,0]),r()}({500:function(module,exports,__webpack_require__){"use strict";(function($){__webpack_require__(22),__webpack_require__(547),__webpack_require__(549),__webpack_require__(530),__webpack_require__(67);var _tableUserGroup=__webpack_require__(69),_functionPackage=__webpack_require__(19);function drawTable(){var keyword=$(".f_val").val(),num_b=[];$("input[name=gao1]:checkbox:checked").each(function(e,t){num_b.push($(this).val())}),setTimeout(function(){for(var orderObj={},s1="",s2="",s3="",s4="",s5="",s6="",s7="",s8="",btnGP=$(".sort-2 button.active"),i=0;i<btnGP.length;i++){var filed=$(btnGP[i]).attr("sortFiled"),n=$(btnGP[i]).find("i").hasClass("fa-sort-desc")?1:0;orderObj[filed]=n}num_b.forEach(function(item){eval("s"+item.toString()+" = "+$("#s-"+item).val())});var search_url="/person/portrait",search_param={keyword:keyword,order_dict:JSON.stringify(orderObj),machiavellianism_index:s1,psychopathy_index:s2,narcissism_index:s3,extroversion_index:s4,nervousness_index:s5,openn_index:s6,agreeableness_index:s7,conscientiousness_index:s8};(0,_tableUserGroup.pictureTable)(search_url,search_param,"",10,"","person")},300)}setTimeout(function(){1!=JSON.parse(window.localStorage.getItem("ur")).role?$("#userOutput").hide():$("#userOutput").show()},300),$(".form_datetime").datetimepicker({format:"yyyy-mm-dd",minView:2,autoclose:!0,todayBtn:!0,pickerPosition:"bottom-left"}),$("#start").on("changeDate",function(e){$("#end").datetimepicker("setStartDate",e.date)}),$("#end").on("changeDate",function(e){$("#start").datetimepicker("setEndDate",e.date)}),$("#advancedSearch").click(function(){$(".advancedOptions").toggleClass("show")}),$("#search").click(function(){drawTable()}),drawTable(),$(".sortOpt .sort-2 .btn").click(function(){var e=$(this).attr("isClick"),t=3==Number(e)?1:Number(e)+1;$(this).attr("isClick",t),3==e?$(this).removeClass("active").find("i").removeClass("fa-sort-desc fa-sort-asc").addClass("fa-sort"):($(this).addClass("active").find("i").removeClass("fa-sort"),$(this).find("i").hasClass("fa-sort-desc")?$(this).find("i").removeClass("fa-sort-desc").addClass("fa-sort-asc"):$(this).find("i").removeClass("fa-sort-asc").addClass("fa-sort-desc")),drawTable()});var delete_id="",delete_flag="";function sureDeltThis(){setTimeout(function(){_functionPackage.method_module.publicAjax("post","/person/delete_user/",_functionPackage.successFail,{person_id:delete_id},drawTable)},400)}function excel_making_request(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("Authorization","Bearer 6cda86e3-ba1c-4737-972c-f815304932ee"),t.responseType="blob",t.onload=function(e){var r=t.response,a=document.createElement("a");a.download="user.xlsx",a.style.display="none";var n=new Blob([r]);a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),document.body.removeChild(a)},t.send()}function drawListLab(){_functionPackage.method_module.publicAjax("get","/person/user_task_show",person_lab_list)}function excelInfo(e){_functionPackage.method_module.alertModal(1,e.info)}function person_lab_list(e){$("#storageTable").bootstrapTable("load",e),$("#storageTable").bootstrapTable({data:e,search:!0,pagination:!0,pageSize:5,pageList:[2,5,10,20],sidePagination:"client",searchAlign:"left",searchOnEnterKey:!1,showRefresh:!1,showColumns:!1,buttonsAlign:"right",locale:"zh-CN",detailView:!1,showToggle:!1,sortName:"bci",sortOrder:"desc",columns:[{title:"创建时间",field:"create_at",sortable:!0,order:"desc",align:"center",valign:"middle",formatter:function(e,t,r){return""!=t.create_at&&"null"!=t.create_at&&t.create_at?t.create_at:"未知"}},{title:"用户ID",field:"uid",sortable:!0,order:"desc",align:"center",valign:"middle",formatter:function(e,t,r){return""!=t.uid&&"null"!=t.uid&&t.uid?t.uid:"未知"}},{title:"用户昵称",field:"username",sortable:!0,order:"desc",align:"center",valign:"middle",formatter:function(e,t,r){return""!=t.username&&"null"!=t.username&&t.username?t.username:t.uid}},{title:"进度",field:"progress",sortable:!0,order:"desc",align:"center",valign:"middle",formatter:function(e,t,r){return 2==e?"计算完成":1==e?"计算中":3==e?"计算失败":"未计算"}},{title:"操作",field:"",sortable:!1,order:"desc",align:"center",valign:"middle",formatter:function(e,t,r){return'<a class="'+(0==t.progress||3==t.progress?"":"disableCss")+'" style="cursor: pointer;color:#333;" onclick="DeleteWarehousing(\''+t.uid+'\')" title="删除"><i class="fa fa-trash"></i></a>'}}]})}window.deleteRecord=function(e,t){delete_id=e,delete_flag=t,_functionPackage.method_module.alertModal(0,"您确定要删除此条记录吗？",sureDeltThis)},$("#userOutput").click(function(){0==_tableUserGroup.portraitIds.length?_functionPackage.method_module.alertModal(1,"请选择需要导出的用户。"):excel_making_request("/person/user_info_download?person_id="+_tableUserGroup.portraitIds.join(","))}),$("#sureOutput").click(function(){}),$("#userWarehousing").click(function(){drawListLab(),$("#buildGroup").modal("show")}),$(".joinLab").click(function(){var e=$("#buildGroup .val-1").val(),t=$("#buildGroup .val-2").val(),r=$("#buildGroup .op1-3 .demo-label input:checked").val(),a=$("#buildGroup .val-4").val(),n=$("#buildGroup .val-5").val(),o=$("#buildGroup .val-6").val(),i=$("#buildGroup .val-7").val(),s=$("#buildGroup .val-8").val(),l=$("#buildGroup .val-9").val(),u=$("#buildGroup .val-10").val(),c=$("#buildGroup .op1-11 .demo-label input:checked").val(),d=$("#buildGroup #val-12").val(),f="/person/user_add_one?uid="+e+"&username="+t+"&gender="+r+"&user_birth="+a+"&user_location="+n+"&fans_num="+o+"&weibo_num="+i+"&friends_num="+s+"&photo_url="+_functionPackage.method_module.checkStr(l)+"&create_at="+u+"&isreal="+c+"&description="+d;_functionPackage.method_module.publicAjax("get",f,_functionPackage.successFail,"",drawListLab)}),$("#batchImport").click(function(){$("#importImgModal").modal("show")}),$("#fileExcel").on("change",function(e){var t=e.target.files,r=new FileReader;r.onload=function(e){try{var t=e.target.result,r=XLSX.read(t,{type:"binary"}),a=[]}catch(e){return void console.log("文件类型不正确")}for(var n in r.Sheets)r.Sheets.hasOwnProperty(n)&&(r.Sheets[n]["!ref"],a=a.concat(XLSX.utils.sheet_to_json(r.Sheets[n])));if(0==a.length)_functionPackage.method_module.alertModal(1,"请保证EXCEL表格内有内容。");else{setTimeout(function(){_functionPackage.method_module.publicAjax("post","/person/user_add_list",excelInfo,{list:a})},300)}},r.readAsBinaryString(t[0])});var deleteUid="";function sureDelWare(){setTimeout(function(){_functionPackage.method_module.publicAjax("get","/person/user_task_delete?uid="+deleteUid,_functionPackage.successFail,"",drawListLab)},400)}window.DeleteWarehousing=function(e){deleteUid=e,_functionPackage.method_module.alertModal(0,"您确定要删除此用户吗？",sureDelWare)}}).call(this,__webpack_require__(11))},549:function(e,t){}});